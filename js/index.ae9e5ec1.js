(function(t){function e(e){for(var a,o,r=e[0],s=e[1],u=e[2],p=0,m=[];p<r.length;p++)o=r[p],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);c&&c(e);while(m.length)m.shift()();return l.push.apply(l,u||[]),i()}function i(){for(var t,e=0;e<l.length;e++){for(var i=l[e],a=!0,r=1;r<i.length;r++){var s=i[r];0!==n[s]&&(a=!1)}a&&(l.splice(e--,1),t=o(o.s=i[0]))}return t}var a={},n={index:0},l=[];function o(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=a,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(i,a,function(e){return t[e]}.bind(null,a));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var c=s;l.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("e35a")},"049a":function(t,e,i){},"14d2":function(t,e,i){},"1f8b":function(t,e,i){},2467:function(t,e,i){"use strict";var a=i("e221"),n=i.n(a);n.a},"427e":function(t,e,i){},"44fd":function(t,e,i){},"58d2":function(t,e,i){"use strict";var a=i("ed9f"),n=i.n(a);n.a},"5c0b":function(t,e,i){"use strict";var a=i("049a"),n=i.n(a);n.a},"5d9f":function(t,e,i){"use strict";var a=i("fbe2"),n=i.n(a);n.a},"6c3d":function(t,e,i){},"7b49":function(t,e,i){"use strict";var a=i("bd93"),n=i.n(a);n.a},"814f":function(t,e,i){"use strict";var a=i("427e"),n=i.n(a);n.a},"8fa7":function(t,e,i){},a7e2:function(t,e,i){"use strict";var a=i("1f8b"),n=i.n(a);n.a},bd93:function(t,e,i){},cb09:function(t,e,i){"use strict";var a=i("8fa7"),n=i.n(a);n.a},cd6c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMcAAAA5CAIAAAAN/6j4AAABzklEQVR4Ae3SQWrEMBQD0Kb0/ofLhdKA4cu4XQ1avq40HltTHrqe5/nyR6Aq8PO2Xde1d66dzeExuznfn7x5vzZ35nBO1qs5fz8eX03tfme/dpyv+1Oyvp2P69sPnsy/sTcctXNn+o8L//4zf1+9J/Nwqta1OZ9XKxzNx8f9zvHwKDx+bl0+7kzD8Svz9rj/nn/PG4FAS8CqWpJ6ImBVsZBaAlbVktQTAauKhdQSsKqWpJ4IWFUspJaAVbUk9UTAqmIhtQSsqiWpJwJWFQupJWBVLUk9EbCqWEgtAatqSeqJgFXFQmoJWFVLUk8ErCoWUkvAqlqSeiJgVbGQWgJW1ZLUEwGrioXUErCqlqSeCFhVLKSWgFW1JPVEwKpiIbUErKolqScCVhULqSVgVS1JPRGwqlhILQGraknqiYBVxUJqCVhVS1JPBKwqFlJLwKpaknoiYFWxkFoCVtWS1BMBq4qF1BKwqpaknghYVSykloBVtST1RMCqYiG1BKyqJaknAlYVC6klYFUtST0RsKpYSC0Bq2pJ6omAVcVCaglYVUtSTwSsKhZSS8CqWpJ6ImBVsZBaAlbVktQTAauKhdQSsKqWpJ4IXPd955NEoCHwC4UgR+Z0RU3nAAAAAElFTkSuQmCC"},e191:function(t,e,i){"use strict";var a=i("6c3d"),n=i.n(a);n.a},e221:function(t,e,i){},e35a:function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},l=[],o={data:function(){return{}},created:function(){var t={strCompanyName:"某某某公司",strLicense:"*****",strLicenseA:"",strLicenseB:""};this.$lodop.setLicenses(t)},methods:{}},r=o,s=(i("a7e2"),i("2877")),u=Object(s["a"])(r,n,l,!1,null,null,null),c=u.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kr-designer"},[i("viewport",{staticClass:"kr-designer-view"}),i("div",{staticClass:"kr-designer-tool"},[i("el-scrollbar",{staticClass:"kr-designer-tool_con"},[i("panel",{staticClass:"control-panel"})],1),i("div",{staticClass:"kr-designer-tool_bar"},[i("el-button",{attrs:{size:"mini",type:"success"},on:{click:t.saveTemp}},[t._v("保存")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.previewTemp}},[t._v("预览")])],1)],1)],1)},m=[],d=i("5530"),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"holder",attrs:{id:"viewport","data-type":"viewport"}},[i("div",{staticClass:"screen",style:{height:t.page.height+"px",width:t.page.width+"px",backgroundImage:"url("+t.backImg+")"}},[t._l(t.widgetStore,(function(e){return i(e.type,{key:e.uuid,tag:"component",staticClass:"layer",class:{active:t.widgetId===e.uuid},attrs:{"data-title":e.type,val:e,"data-type":e.type,"data-uuid":e.uuid}})})),i("control")],2)])},v=[],h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:"page"!==t.optionsType,expression:"optionsType !=='page'"}]},[i("div",{staticClass:"verti",style:{height:t.elm.height+"px",top:t.elm.top+"px",left:t.elm.left+"px"},on:{mousedown:function(e){return t.handlemousedown(e,"left","left","width")}}},[i("div",{staticClass:"square"})]),i("div",{staticClass:"verti",style:{height:t.elm.height+"px",top:t.elm.top+"px",left:t.elm.left+t.elm.width+"px"},on:{mousedown:function(e){return t.handlemousedown(e,"right","width")}}},[i("div",{staticClass:"square"})]),i("div",{staticClass:"horiz",style:{width:t.elm.width+"px",top:t.elm.top+"px",left:t.elm.left+"px"},on:{mousedown:function(e){return t.handlemousedown(e,"up","top","height")}}},[i("div",{staticClass:"square"})]),i("div",{staticClass:"horiz",style:{width:t.elm.width+"px",top:t.elm.top+t.elm.height+"px",left:t.elm.left+"px"},on:{mousedown:function(e){return t.handlemousedown(e,"down","height")}}},[i("div",{staticClass:"square"})])])},g=[],b=(i("99af"),i("4160"),i("c975"),i("d81d"),i("a434"),i("b64b"),i("d3b7"),i("159b"),i("d4ec")),y=i("bee2");function P(t,e){return"function"===typeof e?e:t[e]}function S(t){return Array.isArray(t)?t.map((function(t){return{k:t,v:t}})):Object.keys(t).map((function(e){return{k:e,v:t[e]}}))}var x=function(t){return function(e){var i={},a=S(e),n=function(e){var n=a[e];i[e]=function(){var e=t||this.$vptd;return"function"===typeof n?n.call(this,e.state):e.state[n]}};for(var l in a)n(l);return i}},w=function(t,e,i){return function(a){var n={},l=S(a),o=function(a){var o=l[a];n[a]=function(a){var n=i||this.$vptd,l=n[t],r=n[e],s="function"===typeof o?o.call(this,l):o;return r.call(n,s,a)}};for(var r in l)o(r);return n}},E=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i.state,l=i.mutations,o=void 0===l?{}:l,r=i.actions,s=void 0===r?{}:r,u=i.plugins,c=i.subscribers,p=void 0===c?[]:c;Object(b["a"])(this,t),this.vm=new a["default"]({data:{$$state:"function"===typeof n?n():n}}),this.mutations=o,this.actions=s,this.subscribers=p,u&&u.forEach((function(t){return e.use(t)})),this.mapState=x(this),this.mapActions=w("actions","dispatch",this),this.mapMutations=w("mutations","commit",this)}return Object(y["a"])(t,[{key:"$emit",value:function(t){for(var e,i=arguments.length,a=new Array(i>1?i-1:0),n=1;n<i;n++)a[n-1]=arguments[n];return(e=this.vm).$emit.apply(e,[t].concat(a))}},{key:"$on",value:function(t,e){return this.vm.$on(t,e)}},{key:"subscribe",value:function(t){var e=this;return this.subscribers.push(t),function(){return e.subscribers.splice(e.subscribers.indexOf(t),1)}}},{key:"commit",value:function(t,e){var i=this;this.subscribers.forEach((function(a){return a({type:t,payload:e},i.state)}));var a=P(this.mutations,t);return a&&a(this.state,e)}},{key:"dispatch",value:function(t,e){var i=P(this.actions,t),a={state:this.state,dispatch:this.dispatch.bind(this),commit:this.commit.bind(this),store:this};return Promise.resolve(i&&i(a,e))}},{key:"use",value:function(t){return t(this),this}},{key:"replaceState",value:function(t){return this.vm.$data.$$state=t,this}},{key:"state",get:function(){return this.vm.$data.$$state},set:function(t){0}}]),t}(),I=(x(),w("actions","dispatch"),w("mutations","commit"),function(){return{type:"braid-txt",name:"",isEdit:1,dragable:1,resizable:1,width:120,height:40,left:50,top:0,value:"自定义文本",title:"自定义文本",defaultValue:"自定义文本",style:{}}}),k=function(){return["128A","128B","128C","128Auto","EAN8","EAN13","EAN128A","EAN128B","EAN128C","Code39","39Extended","2_5interleaved","2_5industrial","2_5matrix","UPC_A","UPC_E0","UPC_E1","UPCsupp2","UPCsupp5","Code93","93Extended","MSI","PostNet","Codabar"]},_=function(){return[{label:"普通项",value:0},{label:"页眉页脚",value:1},{label:"页号项",value:2},{label:"页数项",value:3},{label:"多页项",value:4}]},C={zoom:100,type:"page",index:-1,uuid:null,counter:0,originX:0,originY:0,startX:0,startY:0,moving:!1,activeElement:I(),page:{title:"demo",width:750,height:550,pageWidth:750,pageHeight:550,tempItems:[]},optionItems:[],tempId:"",loading:!1,widgetSetting:{}},Y=(i("96cf"),i("1da1")),$={addTempItem:function(t,e){var i=t.state,a=t.commit;t.store;a("addTempItem",{item:e}),a("select",{uuid:i.page.tempItems[i.page.tempItems.length-1].uuid})},designerInit:function(t,e){return Object(Y["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.state,a=t.commit,t.store,a("initOptionItems",e.options),a("initPage",e.tempValue);case 3:case"end":return i.stop()}}),i)})))()}},A=(i("7db0"),i("db22")),G={initPage:function(t,e){t.page=e;var i=e.tempItems?e.tempItems.map((function(e){var i=Object(d["a"])(Object(d["a"])(Object(d["a"])({},t.widgetSetting[e.type]),e),{},{style:Object(d["a"])(Object(d["a"])({},t.widgetSetting[e.type].style),e.style||{})});return i})):[];t.page.tempItems=i},initOptionItems:function(t,e){var i=e?e.map((function(e){var i=Object(d["a"])(Object(d["a"])(Object(d["a"])({},t.widgetSetting[e.type]),e),{},{style:Object(d["a"])(Object(d["a"])({},t.widgetSetting[e.type].style),e.style||{})});return i})):[];t.optionItems=i},initActive:function(t){t.activeElement=I()},initmove:function(t,e){t.startX=e.startX,t.startY=e.startY,t.originX=e.originX,t.originY=e.originY,t.moving=!0},select:function(t,e){if(t.uuid=e.uuid,-1===e.uuid)t.activeElement=I(),t.type="page";else{var i=t.page.tempItems.find((function(t){return t.uuid===e.uuid}));t.activeElement=i,t.type=i.type}},stopmove:function(t){t.moving=!1},move:function(t,e){var i=t.activeElement,a=e.x-t.startX,n=e.y-t.startY,l=t.originX+Math.floor(100*a/t.zoom),o=t.originY+Math.floor(100*n/t.zoom);i.left=l>0?l:0,i.top=o>0?o:0},resize:function(t,e){var i,a=e.x-t.startX,n=e.y-t.startY;if("right"===e.type)return i=t.originX+Math.floor(100*a/t.zoom),void(t.activeElement.width=i>10?i:10);if("down"===e.type)return i=t.originX+Math.floor(100*n/t.zoom),void(t.activeElement.height=i>10?i:10);if("left"===e.type){var l=t.originX+Math.floor(100*a/t.zoom),o=t.originY-Math.floor(100*a/t.zoom);return t.activeElement.left=l>0?l:0,void(t.activeElement.width=o>10?o:10)}if("up"===e.type){var r=t.originX+Math.floor(100*n/t.zoom),s=t.originY-Math.floor(100*n/t.zoom);t.activeElement.top=r>0?r:0,t.activeElement.height=s>10?s:10}},updateSrollTop:function(t,e){t.top=e},zoom:function(t,e){t.zoom=e},delete:function(t,e){var i=t.type;if("page"!==i){var a=0;t.page.tempItems.forEach((function(t,i){t.uuid===e&&(a=i)})),t.page.tempItems.splice(a,1),t.activeElement=I(),t.type="page",t.uuid=-1}},addTempItem:function(t,e){var i=e.data,a=void 0===i?null:i,n=e.item,l={uuid:A("1234567890abcdef",10)},o=JSON.parse(JSON.stringify(n));a?a.forEach((function(e){t.page.tempItems.push(Object.assign(o,e,l))})):t.page.tempItems.push(Object.assign(o,l))},replaceImage:function(t,e){t.activeElement.width=e[0].width,t.activeElement.url=e[0].url},addContainerBackPic:function(t,e){t.activeElement.backPic=e[0].url,t.activeElement.backPicUrl=e[0].src,t.activeElement.width=e[0].width,t.activeElement.height=e[0].height},addBackPic:function(t,e){t.activeElement.backPic=e[0].url,t.activeElement.backPicUrl=e[0].src},updateData:function(t,e){var i=e.uuid,a=e.key,n=e.value,l=t.page.tempItems.find((function(t){return t.uuid===i}));l[a]=n},setTempId:function(t,e){t.tempId=e},setLoading:function(t,e){t.loading=e},setWidgetSetting:function(t,e){t.widgetSetting=e}},O=new E({state:C,actions:$,mutations:G}),T={beforeCreate:function(){this.$vptd=O}},N={mixins:[T],data:function(){return{type:""}},computed:{optionsType:function(){return this.$vptd.state.type},elm:function(){var t=this.$vptd.state.activeElement;return t.resizable?t:""}},methods:{handlemousedown:function(t,e,i,a){t.stopPropagation(),this.type=e,this.$vptd.commit("initmove",{startX:t.pageX,startY:t.pageY,originX:this.elm[i],originY:this.elm[a]}),document.addEventListener("mousemove",this.handlemousemove,!0),document.addEventListener("mouseup",this.handlemouseup,!0)},handlemousemove:function(t){t.stopPropagation(),t.preventDefault(),this.$vptd.commit("resize",{x:t.pageX,y:t.pageY,type:this.type})},handlemouseup:function(){document.removeEventListener("mousemove",this.handlemousemove,!0),document.removeEventListener("mouseup",this.handlemouseup,!0),this.$vptd.commit("stopmove")}}},V=N,z=(i("2467"),Object(s["a"])(V,h,g,!1,null,"3b958358",null)),j=z.exports,F={methods:{initmovement:function(t){var e=this.$vptd.state.activeElement;this.$vptd.commit("initmove",{startX:t.pageX,startY:t.pageY,originX:e.left,originY:e.top}),document.addEventListener("mousemove",this.handlemousemove,!0),document.addEventListener("mouseup",this.handlemouseup,!0)},handlemousemove:function(t){t.stopPropagation(),t.preventDefault(),this.$vptd.commit("move",{x:t.pageX,y:t.pageY})},handlemouseup:function(){document.removeEventListener("mousemove",this.handlemousemove,!0),document.removeEventListener("mouseup",this.handlemouseup,!0),this.$vptd.commit("stopmove")}}},L={components:{control:j},mixins:[F,T],data:function(){return{}},computed:{widgetStore:function(){return this.$vptd.state.page.tempItems},backImg:function(){return this.$vptd.state.page.imageUrl?this.$vptd.state.page.imageUrl:""},page:function(){return this.$vptd.state.page},widgetId:function(){return this.$vptd.state.uuid}},mounted:function(){var t=this;document.getElementById("viewport").addEventListener("mousedown",this.handleSelection,!1),document.addEventListener("keydown",(function(e){e.stopPropagation();var i=t.$vptd.state.activeElement;if(37!==e.keyCode||!i.left)return 38===e.keyCode&&i.top?(e.preventDefault(),void(i.top-=1)):void(39===e.keyCode&&i.left?i.left+=1:40===e.keyCode&&i.top&&(e.preventDefault(),i.top+=1));i.left-=1}),!0)},methods:{handleSelection:function(t){var e=this.selectTarget(t.target);if(e){var i=e.getAttribute("data-uuid");this.$vptd.commit("select",{uuid:i||-1}),e=this.$vptd.state.activeElement,e.dragable&&this.initmovement(t)}else this.$vptd.commit("select",{uuid:-1})},selectTarget:function(t){var e=t.getAttribute("data-type");return e?"viewport"!==e&&t:this.selectTarget(t.parentNode)}}},q=L,B=(i("5d9f"),Object(s["a"])(q,f,v,!1,null,"0b95aa5c",null)),M=B.exports,U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kr-collapse"},[i("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[i("el-collapse-item",{attrs:{title:"",name:"1"}},[i("template",{slot:"title"},[i("span",[t._v("页面参数")])]),i("page")],2),i("el-collapse-item",{attrs:{name:"2"}},[i("template",{slot:"title"},[i("span",[t._v("样式")])]),i("appearance",{staticClass:"pd-l-10"})],2),i("el-collapse-item",{attrs:{name:"3"}},[i("template",{slot:"title"},[i("span",[t._v("组件")])]),i("options")],2),i("el-collapse-item",{attrs:{name:"4"}},[i("template",{slot:"title"},[i("span",[t._v("已加组件")])]),i("layers")],2)],1)],1)},D=[],H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-form",{staticClass:"kr-form",attrs:{"label-width":"80px",model:t.pageInfo,size:"mini"}},[i("el-row",[i("el-form-item",{attrs:{label:"模板名称"}},[i("el-input",{staticClass:"full-w",model:{value:t.pageInfo.title,callback:function(e){t.$set(t.pageInfo,"title",e)},expression:"pageInfo.title"}})],1)],1),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"模板宽度"}},[i("el-input-number",{staticClass:"min-input",attrs:{"controls-position":"right",min:0},model:{value:t.pageInfo.width,callback:function(e){t.$set(t.pageInfo,"width",e)},expression:"pageInfo.width"}})],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"模板高度"}},[i("el-input-number",{staticClass:"min-input",attrs:{"controls-position":"right",min:0},model:{value:t.pageInfo.height,callback:function(e){t.$set(t.pageInfo,"height",e)},expression:"pageInfo.height"}})],1)],1)],1),i("el-row",[i("el-form-item",{attrs:{label:"纸张宽度"}},[i("el-input-number",{staticClass:"min-input",attrs:{"controls-position":"right",min:0},model:{value:t.pageInfo.pageWidth,callback:function(e){t.$set(t.pageInfo,"pageWidth",e)},expression:"pageInfo.pageWidth"}}),i("span",{staticClass:"unit-text"},[t._v("(mm)")])],1)],1),i("el-row",[i("el-form-item",{attrs:{label:"纸张高度"}},[i("el-input-number",{staticClass:"min-input",attrs:{"controls-position":"right",min:0},model:{value:t.pageInfo.pageHeight,callback:function(e){t.$set(t.pageInfo,"pageHeight",e)},expression:"pageInfo.pageHeight"}}),i("span",{staticClass:"unit-text"},[t._v("(mm)")])],1)],1)],1)],1)},W=[],R={mixins:[T],computed:{pageInfo:function(){return this.$vptd.state.page}},methods:{httpRequestMethod:function(t){var e=new FormData;e.append("file",t.file),this.handleUploadFile(e)},handleUploadFile:function(t){return Object(Y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},deleteImg:function(){this.pageInfo.imageUrl=""}}},J=R,X=Object(s["a"])(J,H,W,!1,null,null,null),K=X.exports,Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-form",{staticClass:"kr-form",attrs:{"label-width":"80px",model:t.activeElement,size:"mini"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"宽度"}},[i("el-input-number",{staticClass:"min-input",attrs:{"controls-position":"right",min:1},model:{value:t.activeElement.width,callback:function(e){t.$set(t.activeElement,"width",e)},expression:"activeElement.width"}})],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"高度"}},[i("el-input-number",{staticClass:"min-input",attrs:{"controls-position":"right",min:1},model:{value:t.activeElement.height,callback:function(e){t.$set(t.activeElement,"height",e)},expression:"activeElement.height"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"横坐标"}},[i("el-input-number",{staticClass:"min-input",attrs:{"controls-position":"right",min:0},model:{value:t.activeElement.left,callback:function(e){t.$set(t.activeElement,"left",e)},expression:"activeElement.left"}})],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"纵坐标"}},[i("el-input-number",{staticClass:"min-input",attrs:{"controls-position":"right",min:0},model:{value:t.activeElement.top,callback:function(e){t.$set(t.activeElement,"top",e)},expression:"activeElement.top"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"字号"}},[i("el-input-number",{staticClass:"min-input",attrs:{disabled:void 0===t.activeElement.style.FontSize,"controls-position":"right",min:0},model:{value:t.activeElement.style.FontSize,callback:function(e){t.$set(t.activeElement.style,"FontSize",e)},expression:"activeElement.style.FontSize"}})],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"加粗"}},[i("el-switch",{attrs:{disabled:void 0===t.activeElement.style.Bold,"active-value":1,"inactive-value":0},model:{value:t.activeElement.style.Bold,callback:function(e){t.$set(t.activeElement.style,"Bold",e)},expression:"activeElement.style.Bold"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"字体颜色"}},[i("el-color-picker",{attrs:{disabled:void 0===t.activeElement.style.FontColor},model:{value:t.activeElement.style.FontColor,callback:function(e){t.$set(t.activeElement.style,"FontColor",e)},expression:"activeElement.style.FontColor"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"边框颜色"}},[i("el-color-picker",{attrs:{disabled:void 0===t.activeElement.style.BorderColor},model:{value:t.activeElement.style.BorderColor,callback:function(e){t.$set(t.activeElement.style,"BorderColor",e)},expression:"activeElement.style.BorderColor"}})],1)],1),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"条码值"}},[i("el-switch",{attrs:{disabled:void 0===t.activeElement.style.ShowBarText,"active-value":1,"inactive-value":0},model:{value:t.activeElement.style.ShowBarText,callback:function(e){t.$set(t.activeElement.style,"ShowBarText",e)},expression:"activeElement.style.ShowBarText"}})],1)],1)],1),i("el-row",[i("el-form-item",{attrs:{label:"对齐方式"}},[i("el-radio-group",{attrs:{disabled:void 0===t.activeElement.style.Alignment},model:{value:t.activeElement.style.Alignment,callback:function(e){t.$set(t.activeElement.style,"Alignment",e)},expression:"activeElement.style.Alignment"}},[i("el-radio-button",{attrs:{label:1}},[t._v("左对齐")]),i("el-radio-button",{attrs:{label:2}},[t._v("居中")]),i("el-radio-button",{attrs:{label:3}},[t._v("右对齐")])],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"条码类型"}},[i("el-select",{staticClass:"min-input",attrs:{disabled:void 0===t.activeElement.style.codeType},model:{value:t.activeElement.style.codeType,callback:function(e){t.$set(t.activeElement.style,"codeType",e)},expression:"activeElement.style.codeType"}},t._l(t.codeTypeArray,(function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"打印类型"}},[i("el-select",{staticClass:"min-input",attrs:{disabled:void 0===t.activeElement.style.ItemType},model:{value:t.activeElement.style.ItemType,callback:function(e){t.$set(t.activeElement.style,"ItemType",e)},expression:"activeElement.style.ItemType"}},t._l(t.itemTypeArray,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"高度自动"}},[i("el-switch",{attrs:{disabled:void 0===t.activeElement.style.AutoHeight,"active-value":1,"inactive-value":0},model:{value:t.activeElement.style.AutoHeight,callback:function(e){t.$set(t.activeElement.style,"AutoHeight",e)},expression:"activeElement.style.AutoHeight"}})],1)],1),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"下边距"}},[i("el-input-number",{staticClass:"min-input",attrs:{disabled:void 0===t.activeElement.style.BottomMargin||!t.activeElement.style.AutoHeight,"controls-position":"right",min:0},model:{value:t.activeElement.style.BottomMargin,callback:function(e){t.$set(t.activeElement.style,"BottomMargin",e)},expression:"activeElement.style.BottomMargin"}})],1)],1)],1)],1)],1)},Z=[],tt={mixins:[T],data:function(){return{codeTypeArray:k(),itemTypeArray:_()}},computed:{activeElement:function(){return this.$vptd.state.activeElement},height:function(){return this.$vptd.state.page.height}}},et=tt,it=(i("7b49"),Object(s["a"])(et,Q,Z,!1,null,"75a28630",null)),at=it.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"options-box"},[t._l(t.optionItems,(function(e,a){return["braid-table"==e.type?i("el-popover",{key:a,attrs:{placement:"top",width:"200"}},[i("div",[i("el-checkbox-group",{model:{value:e.columns,callback:function(i){t.$set(e,"columns",i)},expression:"item.columns"}},[i("el-row",t._l(e.columnsAttr,(function(e){return i("el-col",{key:e.name,attrs:{span:12}},[i("el-checkbox",{attrs:{label:e.name}},[t._v(t._s(e.title))])],1)})),1)],1),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){t.addTempItem(i,e)}}},[t._v("确定")])],1),i("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v(t._s(e.title))])],1):i("el-button",{key:a,attrs:{size:"mini"},on:{click:function(i){t.addTempItem(i,e)}}},[t._v(t._s(e.title))])]}))],2)},lt=[],ot=(i("b0c0"),i("b85c"));function rt(t){var e=0,i=0;do{e+=t.offsetTop||0,i+=t.offsetLeft||0,t=t.offsetParent}while(t);return{top:e,left:i}}function st(t){var e=t.getBoundingClientRect();return e.top<window.innerHeight&&e.left<window.innerWidth&&e.right>0}var ut,ct,pt,mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-popover",{attrs:{placement:"top",width:"300"}},[i("el-form",{ref:"form",attrs:{model:t.optionInfo,"label-width":"80px",size:"mini",rules:t.rules}},[i("el-form-item",{attrs:{label:"文本名称",prop:"title"}},[i("el-input",{model:{value:t.optionInfo.title,callback:function(e){t.$set(t.optionInfo,"title",e)},expression:"optionInfo.title"}})],1),t.item.dynamic?t._e():i("el-form-item",{attrs:{label:"html",prop:"value"}},[i("el-input",{on:{change:function(e){t.optionInfo.defaultValue=e}},model:{value:t.optionInfo.value,callback:function(e){t.$set(t.optionInfo,"value",e)},expression:"optionInfo.value"}})],1),t.item.dynamic?i("el-form-item",{attrs:{label:"变量名称",prop:"name"}},[i("el-input",{on:{change:t.nameChange},model:{value:t.optionInfo.name,callback:function(e){t.$set(t.optionInfo,"name",e)},expression:"optionInfo.name"}})],1):t._e(),t.item.dynamic?i("el-form-item",{attrs:{label:"默认值",prop:"defaultValue"}},[i("el-input",{model:{value:t.optionInfo.defaultValue,callback:function(e){t.$set(t.optionInfo,"defaultValue",e)},expression:"optionInfo.defaultValue"}})],1):t._e(),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.submit}},[t._v("确定")])],1),i("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v(t._s(t.item.title))])],1)},dt=[],ft={mixins:[T],props:{item:Object},data:function(){return{optionInfo:{},rules:{title:{required:!0,trigger:"change",message:"请输入打印项名称"},name:{required:!0,trigger:"change",message:"请输入变量名称"},defaultValue:{required:!0,trigger:"change",message:"请输入默认值"}}}},created:function(){this.optionInfo=Object(d["a"])(Object(d["a"])({},this.item),{},{style:Object(d["a"])({},this.item.style)})},methods:{submit:function(){var t=this;this.$refs["form"].validate((function(e){e&&t.$vptd.dispatch("addTempItem",t.optionInfo)}))},nameChange:function(t){this.optionInfo.value="{"+t+"}"}}},vt=ft,ht=Object(s["a"])(vt,mt,dt,!1,null,null,null),gt=(ht.exports,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-popover",{attrs:{placement:"top",width:"300"}},[i("el-form",{ref:"form",attrs:{model:t.optionInfo,"label-width":"80px",size:"mini",rules:t.rules}},[i("el-form-item",{attrs:{label:"项名称",prop:"title"}},[i("el-input",{model:{value:t.optionInfo.title,callback:function(e){t.$set(t.optionInfo,"title",e)},expression:"optionInfo.title"}})],1),t.item.dynamic?t._e():i("el-form-item",{attrs:{label:"图片地址",prop:"value"}},[i("el-input",{on:{change:function(e){t.optionInfo.defaultValue=e}},model:{value:t.optionInfo.value,callback:function(e){t.$set(t.optionInfo,"value",e)},expression:"optionInfo.value"}})],1),t.item.dynamic?i("el-form-item",{attrs:{label:"变量名称",prop:"name"}},[i("el-input",{on:{change:t.nameChange},model:{value:t.optionInfo.name,callback:function(e){t.$set(t.optionInfo,"name",e)},expression:"optionInfo.name"}})],1):t._e(),t.item.dynamic?i("el-form-item",{attrs:{label:"默认值",prop:"defaultValue"}},[i("el-input",{model:{value:t.optionInfo.defaultValue,callback:function(e){t.$set(t.optionInfo,"defaultValue",e)},expression:"optionInfo.defaultValue"}})],1):t._e(),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.submit}},[t._v("确定")])],1),i("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v(t._s(t.item.title))])],1)}),bt=[],yt={mixins:[T],props:{item:Object},data:function(){return{optionInfo:{},rules:{title:{required:!0,trigger:"change",message:"请输入打印项名称"},value:{required:!0,trigger:"change",message:"请输入图片地址"},name:{required:!0,trigger:"change",message:"请输入变量名称"},defaultValue:{required:!0,trigger:"change",message:"请输入默认值"}}}},created:function(){this.optionInfo=Object(d["a"])(Object(d["a"])({},this.item),{},{style:Object(d["a"])({},this.item.style)})},methods:{submit:function(){var t=this;this.$refs["form"].validate((function(e){e&&t.$vptd.dispatch("addTempItem",t.optionInfo)}))},nameChange:function(t){this.optionInfo.value="{"+t+"}"}}},Pt=yt,St=Object(s["a"])(Pt,gt,bt,!1,null,null,null),xt=(St.exports,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-popover",{attrs:{placement:"top",width:"300"}},[i("el-form",{ref:"form",attrs:{model:t.optionInfo,"label-width":"80px",size:"mini",rules:t.rules}},[i("el-form-item",{attrs:{label:"项名称",prop:"title"}},[i("el-input",{model:{value:t.optionInfo.title,callback:function(e){t.$set(t.optionInfo,"title",e)},expression:"optionInfo.title"}})],1),i("el-form-item",{attrs:{label:"变量名称",prop:"name"}},[i("el-input",{on:{change:t.nameChange},model:{value:t.optionInfo.name,callback:function(e){t.$set(t.optionInfo,"name",e)},expression:"optionInfo.name"}})],1),i("el-form-item",{attrs:{label:"默认值",prop:"defaultValue"}},[i("el-input",{model:{value:t.optionInfo.defaultValue,callback:function(e){t.$set(t.optionInfo,"defaultValue",e)},expression:"optionInfo.defaultValue"}})],1),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.submit}},[t._v("确定")])],1),i("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[t._v(t._s(t.item.title))])],1)}),wt=[],Et={mixins:[T],props:{item:Object},data:function(){return{optionInfo:{},rules:{title:{required:!0,trigger:"change",message:"请输入打印项名称"},name:{required:!0,trigger:"change",message:"请输入变量名称"},defaultValue:{required:!0,trigger:"change",message:"请输入默认值"}}}},created:function(){this.optionInfo=Object(d["a"])(Object(d["a"])({},this.item),{},{style:Object(d["a"])({},this.item.style)})},methods:{submit:function(){var t=this;this.$refs["form"].validate((function(e){e&&t.$vptd.dispatch("addTempItem",t.optionInfo)}))},nameChange:function(t){this.optionInfo.value="{"+t+"}"}}},It=Et,kt=Object(s["a"])(It,xt,wt,!1,null,null,null),_t=(kt.exports,{mixins:[T],data:function(){return{}},computed:{optionItems:function(){return this.$vptd.state.optionItems},systemLayers:function(){var t=this.$vptd.state.widgetSetting;return[Object(d["a"])(Object(d["a"])({},t["braid-txt"]),{},{title:"静态文本",value:"静态文本",dynamic:!1}),Object(d["a"])(Object(d["a"])({},t["braid-txt"]),{},{title:"动态文本",dynamic:!0}),Object(d["a"])(Object(d["a"])({},t["braid-image"]),{},{title:"静态图片",dynamic:!1}),Object(d["a"])(Object(d["a"])({},t["braid-image"]),{},{title:"动态图片",dynamic:!0}),Object(d["a"])(Object(d["a"])({},t["braid-html"]),{},{title:"静态html",dynamic:!1}),Object(d["a"])(Object(d["a"])({},t["braid-html"]),{},{title:"动态html",dynamic:!0}),Object(d["a"])(Object(d["a"])({},t["braid-tabel"]),{},{title:"表格",dynamic:!0})]}},mounted:function(){},methods:{addTempItem:function(t,e){switch(e.type){case"braid-table":var i=[];e.columns.forEach((function(t){var a,n=Object(ot["a"])(e.columnsAttr);try{for(n.s();!(a=n.n()).done;){var l=a.value;if(l.name==t){i.push(l);break}}}catch(o){n.e(o)}finally{n.f()}})),e.columns=i,this.$vptd.dispatch("addTempItem",e);break;default:this.$vptd.dispatch("addTempItem",e)}}}}),Ct=_t,Yt=(i("cb09"),Object(s["a"])(Ct,nt,lt,!1,null,"532f58a4",null)),$t=Yt.exports,At=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tag-box"},t._l(t.layers,(function(e,a){return i("el-tag",{key:a,attrs:{closable:e===t.activeElement,size:"small",type:e===t.activeElement?"":"info"},on:{click:function(i){t.activeLayer(i,e)},close:function(i){t.dele(i,e)}}},[t._v(t._s(e.title))])})),1)},Gt=[],Ot={mixins:[T],data:function(){return{sysLayer:[{}]}},computed:{layers:function(){return this.$vptd.state.page.tempItems},activeElement:function(){return this.$vptd.state.activeElement}},methods:{activeLayer:function(t,e){this.$vptd.commit("select",{uuid:e.uuid});var i=document.querySelector("#viewport"),a=i.querySelector("[data-uuid='".concat(e.uuid,"']"));a&&!st(a)&&(i.scrollTop=rt(a).top-50)},dele:function(t,e){this.$vptd.commit("delete",e.uuid)}}},Tt=Ot,Nt=(i("f01f"),Object(s["a"])(Tt,At,Gt,!1,null,"38cd79d8",null)),Vt=Nt.exports,zt={components:{page:K,appearance:at,options:$t,layers:Vt},data:function(){return{activeNames:["1","2","3","4"]}}},jt=zt,Ft=Object(s["a"])(jt,U,D,!1,null,null,null),Lt=Ft.exports,qt=i("ade3"),Bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"widgets",style:{position:"absolute",left:t.val.left+"px",top:t.val.top+"px",width:t.val.width+"px",minHeight:t.val.height+"px",zIndex:t.val.style.zIndex,fontSize:t.val.style.FontSize+"pt",color:t.val.style.FontColor,textAlign:1==t.val.style.Alignment?"left":2==t.val.style.Alignment?"center":"right",fontWeight:t.val.style.Bold?"bold":"normal"},attrs:{contenteditable:!!t.val.isEdit},domProps:{innerHTML:t._s(t.val.value)},on:{blur:function(e){return t.updateText(e,t.val.uuid)}}})},Mt=[],Ut="braid-txt",Dt={mixins:[T],name:Ut,setting:{type:Ut,isEdit:!0,dragable:!0,resizable:!0,dynamic:!1,width:120,height:40,left:50,top:0,title:"自定义文本",value:"自定义文本",defaultValue:"自定义文本",name:"",style:{zIndex:0,FontSize:9,FontColor:"#000000",Bold:0,Italic:0,Underline:0,Alignment:1,ItemType:0}},props:["val"],methods:{updateText:function(t,e){var i=t.target.innerHTML;this.$vptd.commit("updateData",{uuid:e,key:"value",value:i})}}},Ht=Dt,Wt=Object(s["a"])(Ht,Bt,Mt,!1,null,null,null),Rt=Wt.exports,Jt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bar-code",style:{position:"absolute",width:t.val.width+"px",height:t.val.height+"px",left:t.val.left+"px",top:t.val.top+"px",zIndex:t.val.zIndex}},[i("img",{attrs:{src:t.codeImg}}),i("div",{staticClass:"text",style:{display:1==t.val.style.ShowBarText?"":"none",fontSize:t.val.style.FontSize+"pt",fontWeight:t.val.style.Bold?"bold":"normal"}},[t._v("1234567890")])])},Xt=[],Kt="bar-code",Qt={name:Kt,setting:{type:Kt,isEdit:!1,dragable:!0,resizable:!0,width:120,height:40,left:50,top:0,title:"条码",value:"1234567890",defaultValue:"1234567890",name:"",style:{zIndex:0,FontSize:9,ShowBarText:0,codeType:"Code39",ItemType:0}},props:["val"],data:function(){return{codeImg:i("cd6c")}}},Zt=Qt,te=(i("814f"),Object(s["a"])(Zt,Jt,Xt,!1,null,"6e89ab18",null)),ee=te.exports,ie=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"widgets",staticStyle:{position:"absolute",overflow:"hidden"},style:{left:t.val.left+"px",top:t.val.top+"px",width:t.val.width+"px",height:t.val.height+"px",textAlign:1==t.val.style.Alignment?"left":2==t.val.style.Alignment?"center":"right",fontSize:t.val.style.FontSize+"pt",color:t.val.style.FontColor}},[i("table",{staticStyle:{"border-collapse":"collapse","font-size":"12px"},attrs:{border:"1",width:"100%",cellspacing:"0",cellpadding:"2",bordercolor:"#000000"}},[i("tr",t._l(t.columns,(function(e){return i("th",{key:e.name,attrs:{width:"_seq"===e.name?40:""}},[t._v(t._s(e.title))])})),0),i("tr",t._l(t.columns,(function(e){return i("td",{key:e.name,attrs:{rowspan:"_seq"===e.name?t.rowspan:""}},[t._v(t._s(e.value))])})),0),t._l(t.rows,(function(e){return i("tr",{key:e.name},[i("td",{attrs:{colspan:t.colspan},domProps:{innerHTML:t._s(e.value)}})])}))],2)])},ae=[],ne=(i("4de4"),"braid-table"),le={mixins:[T],name:ne,setting:{type:ne,isEdit:!1,dragable:!0,resizable:!0,dynamic:!1,width:240,height:60,left:50,top:10,title:"表格",value:[],defaultValue:[],tabelHtml:"",columnsAttr:[],columns:[],name:"",style:{zIndex:0,Alignment:1,FontSize:9,FontColor:"#000000",BorderColor:"#000000",AutoHeight:0,BottomMargin:0}},props:["val"],computed:{columns:function(){var t=this.val.columns.filter((function(t){return"row"!=t.type}));return t},rows:function(){var t=this.val.columns.filter((function(t){return"row"==t.type}));return t},rowspan:function(){return 1+this.rows.length},colspan:function(){var t=this.columns.filter((function(t){return"_seq"!==t.name}));return t.length}},methods:{}},oe=le,re=Object(s["a"])(oe,ie,ae,!1,null,null,null),se=re.exports,ue=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"widgets",style:{position:"absolute",width:t.val.width+"px",height:t.val.height+"px",left:t.val.left+"px",top:t.val.top+"px",zIndex:t.val.zIndex}},[i("img",{staticClass:"braid-image",attrs:{title:t.val.title,src:t.val.value||t.val.defaultValue}})])},ce=[],pe="braid-image",me={name:pe,setting:{type:pe,title:"图片",isEdit:!1,dragable:!0,resizable:!0,dynamic:!0,width:120,height:40,left:50,top:0,value:"",defaultValue:"",name:"",style:{zIndex:0,ItemType:0}},props:["val"],data:function(){return{}},computed:{imageUrl:function(){return this.val.value}},watch:{val:function(t){this.imageUrl=t.value}}},de=me,fe=(i("58d2"),Object(s["a"])(de,ue,ce,!1,null,"2acba4fc",null)),ve=fe.exports,he=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"widgets",style:{position:"absolute",left:t.val.left+"px",top:t.val.top+"px",width:t.val.width+"px",minHeight:t.val.height+"px",zIndex:t.val.style.zIndex,fontSize:t.val.style.FontSize+"pt",color:t.val.style.FontColor},attrs:{contenteditable:!!t.val.isEdit},domProps:{innerHTML:t._s(t.val.value)},on:{blur:function(e){return t.updateText(e,t.val.uuid)}}})},ge=[],be="braid-html",ye={mixins:[T],name:be,setting:{type:be,isEdit:!1,dragable:!0,resizable:!0,dynamic:!1,width:120,height:40,left:50,top:0,title:"html",value:"<div>html<div>",defaultValue:"<div>html<div>",name:"",style:{zIndex:0,ItemType:0,AutoHeight:0,BottomMargin:0}},props:["val"],methods:{updateText:function(t,e){var i=t.target.innerHTML;this.$vptd.commit("updateData",{uuid:e,key:"value",value:i})}}},Pe=ye,Se=Object(s["a"])(Pe,he,ge,!1,null,null,null),xe=Se.exports,we=function(t){t.component(Rt.name,Rt),t.component(ee.name,ee),t.component(se.name,se),t.component(ve.name,ve),t.component(xe.name,xe)},Ee=function(){var t;return t={},Object(qt["a"])(t,Rt.name,Rt.setting),Object(qt["a"])(t,ee.name,ee.setting),Object(qt["a"])(t,se.name,se.setting),Object(qt["a"])(t,ve.name,ve.setting),Object(qt["a"])(t,xe.name,xe.setting),t},Ie={install:we,getWidgetsSetting:Ee},ke=i("0644"),_e=i.n(ke),Ce={mixins:[T],name:"kr-print-designer",components:{Viewport:M,Panel:Lt},props:{widgetOptions:{type:Array,default:function(){return[{type:"braid-txt",title:"静态文本",value:"静态文本",defaultValue:"静态文本"},{type:"braid-txt",title:"动态文本",value:"",defaultValue:"动态文本",dynamic:!0}]}},tempValue:{type:Object,default:function(){return{title:"demo",width:750,height:550,pageWidth:750,pageHeight:550,tempItems:[]}}}},created:function(){a["default"].use(Ie),this.$vptd.commit("setWidgetSetting",Ie.getWidgetsSetting()),this.$vptd.dispatch("designerInit",{tempValue:_e()(this.tempValue),options:_e()(this.widgetOptions)})},methods:{saveTemp:function(){var t=this.$vptd.state.page;this.$emit("save",_e()(t))},previewTemp:function(){var t=Object(d["a"])({},this.$vptd.state.page);this.$lodop.previewTemp(_e()(t))}}},Ye=Ce,$e=(i("5c0b"),Object(s["a"])(Ye,p,m,!1,null,null,null)),Ae=$e.exports,Ge=i("5c96"),Oe=i.n(Ge);i("0fae"),i("44fd"),i("ac1f"),i("466d");function Te(){try{var t=navigator.userAgent;if(t.match(/Windows\sPhone/i))return!0;if(t.match(/iPhone|iPod|iPad/i))return!0;if(t.match(/Android/i))return!0;if(t.match(/Edge\D?\d+/i))return!0;var e=t.match(/Trident\D?\d+/i),i=t.match(/MSIE\D?\d+/i),a=t.match(/OPR\D?\d+/i),n=t.match(/Firefox\D?\d+/i),l=t.match(/x64/i);if(!e&&!i&&l)return!0;if(n){if(n=n[0].match(/\d+/),n[0]>=41||l)return!0}else if(a){if(a=a[0].match(/\d+/),a[0]>=32)return!0}else if(!e&&!i){var o=t.match(/Chrome\D?\d+/i);if(o&&(o=o[0].match(/\d+/),o[0]>=41))return!0}return!1}catch(r){return!0}}if(Te()){var Ne=document.head||document.getElementsByTagName("head")[0]||document.documentElement,Ve=document.createElement("script");Ve.src="http://localhost:8000/CLodopfuncs.js?priority=1",Ne.insertBefore(Ve,Ne.firstChild);var ze=document.createElement("script");if(ze.src="http://localhost:18000/CLodopfuncs.js?priority=0",Ne.insertBefore(ze,Ne.firstChild),ct=!!(Ve.src+ze.src).match(/\/\/localho|\/\/127.0.0./i),Ve.attachEvent){pt="loading";var je=function(){"loaded"==window.event.srcElement.readyState&&(pt="complete")};Ve.attachEvent("onreadystatechange",je),ze.attachEvent("onreadystatechange",je)}}function Fe(t,e){var i,a="http://www.lodop.net/download.html",n="<br><font color='#FF00FF'>打印控件未安装!点击这里<a href="+a+" target='_blank'>下载</a>,安装后请刷新页面或重新进入。</font>",l="<br><font color='#FF00FF'>打印控件需要升级!点击这里<a href="+a+" target='_blank'>下载</a>,升级后请重新进入。</font>",o="<br><font color='#FF00FF'>打印控件未安装!点击这里<a href="+a+" target='_blank'>下载</a>,安装后请刷新页面或重新进入。</font>",r="<br><font color='#FF00FF'>打印控件需要升级!点击这里<a href="+a+" target='_blank'>下载</a>,升级后请重新进入。</font>",s="<br><font color='#FF00FF'>（注意：如曾安装过Lodop旧版附件npActiveXPLugin,请在【工具】->【附加组件】->【扩展】中先卸它）</font>",u="<br><font color='#FF00FF'>(如果此前正常，仅因浏览器升级或重安装而出问题，需重新执行以上安装）</font>",c="<br><font color='#FF00FF'>Web打印服务CLodop未安装启动，点击这里<a href="+a+" target='_blank'>下载</a>,",p="<br>（若此前已安装过，可<a href='CLodop.protocol:setup' target='_self'>点这里直接再次启动</a>）",m="，成功后请刷新本页面。</font>",d="<br><font color='#FF00FF'>Web打印服务CLodop需升级!点击这里<a href="+a+" target='_blank'>下载</a>,,升级后请刷新页面。</font>";try{var f=navigator.userAgent,v=!!f.match(/MSIE/i)||!!f.match(/Trident/i);if(Te()){try{i=window.getCLodop()}catch(g){}if(!i&&("complete"!==document.readyState||v&&"loading"==pt))return void alert("网页还没下载完毕，请稍等一下再操作.");if(!i)return void Ge["MessageBox"].alert(c+(ct?p:"")+m,"提示",{dangerouslyUseHTMLString:!0});window.CLODOP.CVERSION<"3.0.9.3"&&Ge["MessageBox"].alert(d,"提示",{dangerouslyUseHTMLString:!0}),e&&e.parentNode&&e.parentNode.removeChild(e),t&&t.parentNode&&t.parentNode.removeChild(t)}else{var h=v&&!!f.match(/x64/i);if(t||e?i=v?t:e:ut?i=ut:(i=document.createElement("object"),i.setAttribute("width",0),i.setAttribute("height",0),i.setAttribute("style","position:absolute;left:0px;top:-100px;width:0px;height:0px;"),v?i.setAttribute("classid","clsid:2105C259-1E0C-4534-8141-A753534CB4CA"):i.setAttribute("type","application/x-print-lodop"),document.documentElement.appendChild(i),ut=i),!i||!i.VERSION)return f.indexOf("Chrome")>=0&&Ge["MessageBox"].alert(u,"提示",{dangerouslyUseHTMLString:!0}),f.indexOf("Firefox")>=0&&Ge["MessageBox"].alert((h?o:n)+s,"提示",{dangerouslyUseHTMLString:!0}),i}return i.VERSION<"6.2.2.6"&&(Te()||Ge["MessageBox"].alert(h?r:l,"提示",{dangerouslyUseHTMLString:!0})),i}catch(g){alert("getLodop出错:"+g)}}var Le=Fe,qe=(i("c740"),i("5319"),i("1276"),function(t,e,i){var a="text-align:"+(1==i.Alignment?"left":2==i.Alignment?"center":"right")+";";a+="font-size:"+i.FontSize+"pt;",a+="color:"+i.FontColor+";";var n=t.filter((function(t){return"row"!=t.type})),l=t.filter((function(t){return"row"==t.type})),o=t.filter((function(t){return"row"!=t.type&&"_seq"!=t.name})),r="<style> table td,table th {word-break: break-all;box-sizing:border-box;border:1px solid "+i.BorderColor+"}</style>";return r+="<table border=1 width='100%' cellspacing='0' frame=\"box\" cellpadding='2' style='border-collapse:collapse;"+a+"' bordercolor='"+i.BorderColor+"'>",r+="<thead><tr>",n.forEach((function(t){"_seq"===t.name?r+='<th width="30">':r+="<th>",r+=t.title,r+="</th>"})),r+="</tr></thead>",r+="<tbody>",Array.isArray(e)&&e.forEach((function(t,e){var i=l.filter((function(e){return t[e.isShowName]==e.isShowValue}));r+="<tr>",n.forEach((function(a){"_seq"===a.name?(r+="<td rowspan="+(1+i.length)+">",r+=e+1):(r+="<td>",r+=t[a.name]),r+="</td>"})),r+="</tr>",i.forEach((function(e){var i=t[e.name].split(" ");r+="<tr><td colspan="+o.length+' style="border:none">',r+=e.trSet.title,r+="</td></tr>",r+="<tr><td colspan="+o.length+' style="border:none">';var a=100/e.trSet.col+"%";i.forEach((function(t,n){r+='<span style="display:inline-block;text-align:center;width:'+a+'">'+t+"</span>",n%e.trSet.col==e.trSet.col-1&&i.length>n+1&&(r+="</td></tr>",r+="<tr><td colspan="+o.length+' style="border:none">')})),r+="</td></tr>"}))})),r+="</tbody>",r+="</table>",r}),Be=function(t){var e="<img style='width:100%' src='"+t+"'/>";return e},Me=function(t,e){var i=/({[^}^{]*})/g;return t.replace(i,e||"")},Ue=function(t,e){var i="text-align:"+(1==e.Alignment?"left":2==e.Alignment?"center":"right")+";";i+="font-size:"+e.FontSize+"pt;",i+="color:"+e.FontColor+";";var a="<span style='"+i+"'>";return a+=t,a+="</span>",console.log(a),a},De="",He="",We="",Re="",Je={print:Ke,preview:Qe,previewTemp:Ze,setLicenses:Xe};function Xe(t){De=t.strCompanyName||"",He=t.strLicense||"",We=t.strLicenseA||"",Re=t.strLicenseB||""}function Ke(t,e){var i=ti(t.title,t.width,t.height,t.pageWidth,t.pageHeight),a=_e()(t.tempItems),n=ei(a,e);e.printContent>1?n.forEach((function(t,e){i.NewPageA(),t.forEach((function(t){ii(i,t,e)}))})):n[0].forEach((function(t){ii(i,t)}));var l=i.PRINT();return l}function Qe(t,e){var i=ti(t.title,t.width,t.height,t.pageWidth,t.pageHeight),a=_e()(t.tempItems),n=ei(a,e);e.length>1?n.forEach((function(t,e){i.NewPageA(),t.forEach((function(t){ii(i,t,e)}))})):n[0].forEach((function(t){ii(i,t)}));var l=i.PREVIEW();return l}function Ze(t){var e=ti(t.title,t.width,t.height,t.pageWidth,t.pageHeight),i=ei(t.tempItems);i[0].forEach((function(t){ii(e,t)}));var a=e.PREVIEW();return a}function ti(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,r=Le();return console.log(De,He,We,Re),r.SET_LICENSES(De,He,We,Re),r.PRINT_INITA(l,o,e,i,t),r.SET_PRINT_PAGESIZE(1,a?a+"mm":0,n?n+"mm":0,""),r}function ei(t,e){var i=_e()(t),a=i.findIndex((function(t){return 1==t.style.AutoHeight}));if(-1!=a){var n=i[a];i.splice(a,1),i.unshift(n),i.forEach((function(t){t.top>n.top&&0==t.style.ItemType&&(t.top=t.top-n.top-n.height,t.left=t.left-n.left,t.style.LinkedItem=1)}))}if(e&&e.length>0){var l=[];return e.forEach((function(t){var e=i.map((function(e){var i=_e()(e);return i.name&&(i.defaultValue=t[i.name],i.value=Me(i.value,i.defaultValue||"")),i}));l.push(e)})),l}return[i]}function ii(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e.style&&1==e.style.LinkedItem&&(e.style.LinkedItem=1+i),e.type){case"braid-txt":t.ADD_PRINT_TEXT(e.top,e.left,e.width,e.height,e.value);break;case"bar-code":t.ADD_PRINT_BARCODE(e.top,e.left,e.width,e.height,e.style.codeType,e.value);break;case"braid-html":var a=Ue(e.defaultValue,e.style);e.style&&1==e.style.AutoHeight?t.ADD_PRINT_HTM(e.top,e.left,e.width,"BottomMargin:"+e.style.BottomMargin+"mm",a):t.ADD_PRINT_HTM(e.top,e.left,e.width,e.height,a);break;case"braid-table":var n=qe(e.columns,e.defaultValue,e.style);e.style&&1==e.style.AutoHeight?t.ADD_PRINT_TABLE(e.top,e.left,e.width,"BottomMargin:"+e.style.BottomMargin+"mm",n):t.ADD_PRINT_TABLE(e.top,e.left,e.width,e.height,n);break;case"braid-image":var l=Be(e.value);t.ADD_PRINT_IMAGE(e.top,e.left,e.width,e.height,l);break;default:}e.style&&Object.keys(e.style).forEach((function(i){t.SET_PRINT_STYLEA(0,i,e.style[i])}))}var ai=function(t){t.use(Oe.a),t.component("kr-print-designer",Ae),t.prototype.$lodop=Je};"undefined"!==typeof window&&window.Vue&&ai(window.Vue);var ni={install:ai,KrPrintDesigner:Ae},li=i("8c4f"),oi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("kr-print-designer",{attrs:{"temp-value":t.value,"widget-options":t.widgets},on:{save:t.handleSave}})},ri=[],si=[{type:"braid-txt",isEdit:1,title:"自定义文本",value:"自定义文本",defaultValue:"自定义文本",name:""},{type:"braid-txt",isEdit:0,title:"公司名称",value:"{公司名称}",defaultValue:"某某公司",name:"companyName"},{type:"braid-txt",isEdit:1,title:"出库单号",value:"{出库单号}",defaultValue:"CK-1234567890",name:"stockoutCode"},{type:"braid-txt",isEdit:1,title:"客户/供应商",value:"{客户/供应商}",defaultValue:"中国苹果",name:"unitName"},{type:"braid-txt",isEdit:1,title:"经办人",value:"{经办人}",defaultValue:"zj001",name:"handlerName"},{type:"braid-txt",isEdit:1,title:"出库类型",value:"{出库类型}",defaultValue:"销售出库",name:"stockoutType"},{type:"braid-txt",isEdit:1,title:"出库仓库",value:"{出库仓库}",defaultValue:"北京仓库",name:"warehouseName"},{type:"braid-txt",isEdit:1,title:"出库时间",value:"{出库时间}",defaultValue:"2020-08-27 12:00:00",name:"businessDate"},{type:"braid-txt",isEdit:1,title:"制单人",value:"{制单人}",defaultValue:"jz002",name:"createUserName"},{type:"braid-txt",isEdit:1,title:"制单时间",value:"{制单时间}",defaultValue:"2020-08-27 12:00:00",name:"created"},{type:"braid-txt",isEdit:1,title:"收货人(销售)",value:"{收货人}",defaultValue:"刘某某",name:"receivePerson"},{type:"braid-txt",isEdit:1,title:"收货电话(销售)",value:"{收货人电话}",defaultValue:"收货人",name:"receivePhone"},{type:"braid-txt",isEdit:1,title:"收货地址(销售)",value:"{收货地址}",defaultValue:"四川成都",name:"address"},{type:"braid-txt",isEdit:1,title:"合计金额",value:"{合计金额}",defaultValue:"123.00",name:"totalPrice"},{type:"braid-txt",isEdit:1,title:"摘要",value:"{摘要}",defaultValue:"北京采购入库成都摘要",name:"remark"},{type:"braid-html",isEdit:1,title:"分页",value:"{第##页/共##页}",defaultValue:"<font><span tdata='pageNO'>第##页</span>/<span tdata='pageCount'>共##页</span></font>",name:""},{type:"braid-table",isEdit:0,title:"出库商品明细",name:"details",value:"{details}",style:{},defaultValue:[{productName:"苹果ipone11pro",skuName:"iphone11pro256g",specModel:"165L",quantity:3,snCode:"[SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1]",isUseSn:"1",price:"23.00"},{productName:"苹果ipone11pro",skuName:"iphone11pro124g",specModel:"165L",quantity:3,snCode:"[SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1]",isUseSn:"1",price:"12.00"}],tabelHtml:"",columnsAttr:[{title:"产品名称",value:"{产品名称}",name:"productName"},{title:"sku名称",value:"{sku名称}",name:"skuName"},{title:"规格型号",value:"{规格型号}",name:"specModel"},{title:"数量",value:"{数量}",name:"quantity"},{title:"单价",value:"{单价}",name:"price"},{title:"产品序列号",value:"产品序列号明细：<br>{产品序列号}",name:"snCode",trSet:{title:"产品序列号明细:",col:5,margin:"50px"},type:"row",isShowName:"isUseSn",isShowValue:"1"}],columns:[]}],ui=[{type:"braid-txt",isEdit:1,title:"自定义文本",value:"自定义文本",defaultValue:"自定义文本",name:""},{type:"braid-txt",isEdit:0,title:"公司名称",value:"{公司名称}",defaultValue:"科技公司",name:"companyName"},{type:"braid-txt",isEdit:1,title:"入库单号",value:"{入库单号}",defaultValue:"RK-1234567890",name:"purcheckCode"},{type:"braid-txt",isEdit:1,title:"供应商/客户",value:"{供应商/客户}",defaultValue:"中国苹果",name:"unitName"},{type:"braid-txt",isEdit:1,title:"采购业务员",value:"{采购业务员}",defaultValue:"zj001",name:"purchaseSaleManName"},{type:"braid-txt",isEdit:1,title:"入库类型",value:"{入库类型}",defaultValue:"采购入库",name:"purcheckType"},{type:"braid-txt",isEdit:1,title:"入库仓库",value:"{入库仓库}",defaultValue:"成都仓库",name:"warehouseName"},{type:"braid-txt",isEdit:1,title:"入库时间",value:"{入库时间}",defaultValue:"2020-08-27 12:00:00",name:"businessDate"},{type:"braid-txt",isEdit:1,title:"制单人",value:"{制单人}",defaultValue:"jz002",name:"createUserName"},{type:"braid-txt",isEdit:1,title:"制单时间",value:"{制单时间}",defaultValue:"2020-08-27 12:00:00",name:"created"},{type:"braid-txt",isEdit:1,title:"摘要",value:"{摘要}",defaultValue:"北京采购入库成都摘要",name:"remark"},{type:"braid-txt",isEdit:1,title:"合计金额",value:"{合计金额}",defaultValue:"12331.00",name:"totalPrice"},{type:"braid-html",isEdit:1,title:"分页",value:"{第##页/共##页}",defaultValue:"<font ><span tdata='pageNO'>第##页</span>/<span tdata='pageCount'>共##页</span></font>",name:""},{type:"braid-table",isEdit:0,title:"入库商品明细",name:"details",value:"{details}",style:{},defaultValue:[{productName:"苹果ipone11pro",skuName:"iphone11pro256g",specModel:"165L",quantity:3,snCode:"[SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1]",isUseSn:"1",price:"12.00"},{productName:"苹果ipone11pro",skuName:"iphone11pro124g",specModel:"165L",quantity:3,snCode:"[SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1]",isUseSn:"1",price:"12.00"}],columnsAttr:[{title:"产品名称",value:"{产品名称}",name:"productName"},{title:"sku名称",value:"{sku名称}",name:"skuName"},{title:"规格型号",value:"{规格型号}",name:"specModel"},{title:"数量",value:"{数量}",name:"quantity"},{title:"单价",value:"{单价}",name:"price"},{title:"产品序列号",value:"产品序列号明细：<br>{产品序列号}",name:"snCode",trSet:{title:"产品序列号明细:",col:5,margin:"50px"},type:"row",isShowName:"isUseSn",isShowValue:"1"}],columns:[]}],ci={data:function(){return{index:"",value:{title:"demo",width:750,height:550,pageWidth:750,pageHeight:550,tempItems:[]},widgets:si}},created:function(){this.index=this.$route.query.index;try{var t=JSON.parse(localStorage.getItem("tempList"))||[];this.value=t[this.index],this.widgets=1==this.value.type?si:ui}catch(e){console.error(e)}},methods:{handleSave:function(t){var e=JSON.parse(localStorage.getItem("tempList"))||[];e[this.index]=t,localStorage.setItem("tempList",JSON.stringify(e)),this.$router.back()}}},pi=ci,mi=Object(s["a"])(pi,oi,ri,!1,null,null,null),di=mi.exports,fi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box"},[i("div",{staticClass:"title"},[t._v("kr-print-designer 打印模板设计器")]),i("section",[i("div",{staticClass:"section"},[t._v("模板管理")]),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tempList,size:"mini",border:""}},[i("el-table-column",{attrs:{label:"模板名称",prop:"title"}}),i("el-table-column",{attrs:{label:"模板类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(1==e.row.type?"出库单":"入库单"))])]}}])}),i("el-table-column",{attrs:{label:"模板宽高"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.width+" * "+e.row.height))])]}}])}),i("el-table-column",{attrs:{label:"纸张大小"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.pageWidth+"mm * "+e.row.pageHeight+"mm"))])]}}])}),i("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){return t.handleEdit(e.$index,e.row)}}},[t._v("设计")]),i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){return t.handlePreview(e.$index,e.row)}}},[t._v("预览")]),i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(i){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])},[i("template",{slot:"header"},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.openCreate}},[t._v("创建模板")])],1)],2)],1),i("el-dialog",{attrs:{title:"添加模板",visible:t.visible,width:"310px"},on:{"update:visible":function(e){t.visible=e}}},[i("el-form",{ref:"form",attrs:{model:t.form,size:"small",rules:t.rules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"模板名称",prop:"title"}},[i("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),i("el-form-item",{attrs:{label:"模板类型",prop:"type"}},[i("el-select",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[i("el-option",{attrs:{label:"出库单",value:1}}),i("el-option",{attrs:{label:"入库单",value:2}})],1)],1),i("el-form-item",{attrs:{label:"模板宽度",prop:"width"}},[i("el-input",{model:{value:t.form.width,callback:function(e){t.$set(t.form,"width",e)},expression:"form.width"}})],1),i("el-form-item",{attrs:{label:"模板高度",prop:"height"}},[i("el-input",{model:{value:t.form.height,callback:function(e){t.$set(t.form,"height",e)},expression:"form.height"}})],1),i("el-form-item",{attrs:{label:"纸张宽度",prop:"pageWidth"}},[i("el-input",{model:{value:t.form.pageWidth,callback:function(e){t.$set(t.form,"pageWidth",e)},expression:"form.pageWidth"}})],1),i("el-form-item",{attrs:{label:"纸张高度",prop:"pageHeight"}},[i("el-input",{model:{value:t.form.pageHeight,callback:function(e){t.$set(t.form,"pageHeight",e)},expression:"form.pageHeight"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.visible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.savaTemp}},[t._v("确 定")])],1)],1)],1),i("section",[i("div",{staticClass:"section"},[t._v("模板打印测试")]),i("el-form",{ref:"printForm",attrs:{model:t.printForm,size:"small",rules:t.printRules,inline:!0}},[i("el-form-item",{attrs:{label:"打印模板",prop:"tempIndex"}},[i("el-select",{model:{value:t.printForm.tempIndex,callback:function(e){t.$set(t.printForm,"tempIndex",e)},expression:"printForm.tempIndex"}},t._l(t.tempList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.title,value:e}})})),1)],1),i("el-form-item",{attrs:{label:"测试数据",prop:"data"}},[i("el-input",{staticStyle:{width:"520px"},attrs:{type:"textarea",rows:6,placeholder:"数据模板对应的数据，数据格式为json对象"},model:{value:t.printForm.data,callback:function(e){t.$set(t.printForm,"data",e)},expression:"printForm.data"}})],1),i("el-form-item",[i("div",[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.printPreview(1)}}},[t._v("打印预览")])],1),i("div",{staticStyle:{"margin-top":"10px"}},[i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.printPreview(2)}}},[t._v("直接打印")])],1)])],1)],1),i("section",[i("el-collapse",[i("el-collapse-item",{attrs:{title:"测试数据",name:"1"}},[i("el-form",{ref:"testData",attrs:{model:t.testData,size:"small",inline:!0}},[i("el-form-item",{attrs:{label:"出库数据"}},[i("el-input",{staticStyle:{width:"920px"},attrs:{type:"textarea",rows:8,placeholder:"数据模板对应的数据，数据格式为json对象"},model:{value:t.testData.OutStock,callback:function(e){t.$set(t.testData,"OutStock",e)},expression:"testData.OutStock"}})],1),i("el-form-item",{attrs:{label:"入库数据"}},[i("el-input",{staticStyle:{width:"920px"},attrs:{type:"textarea",rows:8,placeholder:"数据模板对应的数据，数据格式为json对象"},model:{value:t.testData.InStock,callback:function(e){t.$set(t.testData,"InStock",e)},expression:"testData.InStock"}})],1)],1)],1)],1)],1)])},vi=[],hi=[{companyName:"四川某某公司",stockoutCode:"CK-12345678910231",unitName:"北京代理商",handlerName:"刘某某",stockoutType:"销售出库",warehouseName:"京东北京仓",businessDate:"2020-08-27 12:00:00",createUserName:"胡某某",created:"2020-08-27 12:00:00",remark:"备注一下",totalPrice:"129.00",receivePerson:"易某某",receivePhone:"18982068701",address:"四川省成都市武侯区 天府软件园",details:[{productName:"苹果ipone11pro",skuName:"iphone11pro256g",specModel:"165L",quantity:17,snCode:"[SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1]",isUseSn:"1",price:"8999.00"},{productName:"苹果手机壳123",skuName:"iphone11pro256g",specModel:"165L",quantity:9,snCode:"",isUseSn:"0",price:"23.00"},{productName:"苹果ipone11pro",skuName:"iphone11pro124g",specModel:"165L",quantity:13,snCode:"[SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1]",isUseSn:"1",price:"7099.00"}]}],gi=[{companyName:"某某偶科技公司",purcheckCode:"Rk-12345678910231",unitName:"四川分销商",purchaseSaleManName:"刘夏",purcheckType:"采购入库",warehouseName:"京东成都仓",businessDate:"2020-08-27 12:00:00",createUserName:"胡某某",created:"2020-08-27 12:00:00",remark:"备注一下",totalPrice:"129.00",details:[{productName:"苹果ipone11pro",skuName:"iphone11pro256g",specModel:"165L",quantity:3,snCode:"[SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1]",isUseSn:"1",price:"12.00"},{productName:"苹果ipone11pro",skuName:"iphone11pro124g",specModel:"165L",quantity:3,snCode:"[SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1] [SPP1Y79G1]",isUseSn:"1",price:"12.00"}]}],bi=function(){return{title:"",type:1,width:"",height:"",pageWidth:"",pageHeight:"",tempItems:[]}},yi={data:function(){return{visible:!1,value:{},tempList:[],form:bi(),rules:{title:{required:!0,message:"请输入模板名称"},type:{required:!0,message:"请选择模板类型"},width:{required:!0,message:"请输入模板宽度"},height:{required:!0,message:"请输入模板高度"},pageWidth:{required:!0,message:"请输入纸张宽度"},pageHeight:{required:!0,message:"请输入纸张高度"}},printForm:{tempIndex:"",data:""},printRules:{tempIndex:{required:!0,message:"请选择模板"},data:{required:!0,message:"请输入模板测试数据"}},testData:{OutStock:JSON.stringify(hi),InStock:JSON.stringify(gi)}}},created:function(){this.tempList=JSON.parse(localStorage.getItem("tempList"))||[]},methods:{handlePreview:function(t,e){this.$lodop.previewTemp(e)},handleEdit:function(t,e){this.$router.push({path:"/designer",query:{index:t}})},handleDelete:function(t,e){var i=this;this.$confirm("确认删除该条数据吗？","确认信息").then((function(e){e&&(i.tempList.splice(t,1),localStorage.setItem("tempList",JSON.stringify(i.tempList)))})).catch()},openCreate:function(){this.form=bi(),this.visible=!0},savaTemp:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.tempList.push(t.form),localStorage.setItem("tempList",JSON.stringify(t.tempList)),t.visible=!1)}))},printPreview:function(t){var e=this;this.$refs.printForm.validate((function(t){if(t){var i;try{i=JSON.parse(e.printForm.data)}catch(a){return e.$message("请输入正确格式的打印数据")}1?e.$lodop.preview(e.tempList[e.printForm.tempIndex],i):e.$confirm("确认直接打印吗？","确认信息").then((function(t){t&&e.$lodop.print(e.tempList[e.printForm.tempIndex],i)})).catch()}}))}}},Pi=yi,Si=(i("e191"),Object(s["a"])(Pi,fi,vi,!1,null,"3c060ec5",null)),xi=Si.exports;a["default"].use(li["a"]),a["default"].use(ni);var wi=[{path:"/",component:xi},{path:"/designer",component:di}],Ei=new li["a"]({routes:wi});new a["default"]({router:Ei,render:function(t){return t(c)}}).$mount("#app")},ed9f:function(t,e,i){},f01f:function(t,e,i){"use strict";var a=i("14d2"),n=i.n(a);n.a},fbe2:function(t,e,i){}});
//# sourceMappingURL=index.ae9e5ec1.js.map